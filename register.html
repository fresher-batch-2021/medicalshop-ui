<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>register</title>
    <link rel="stylesheet" href="styles.css">
</head>
<!-- axios -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<body class="login">
        <header id="header">

            </header>
    <h3 class="head">Register form</h3>
    <form onsubmit="register()">
        <label for="name">Name*</label>
        <input type="text" name="name" id="name" placeholder="Enter the Name" required  autofocus > <br/>
        <label for="email">Email*</label>
        <input type="email" name="email" id="email" required > <br/>
        <label for="mobileNo">MobileNo*</label>
        <input type="tel" name="mobileNo" id="mobileNo" required > <br/>
        <label for="password">Password*</label>
        <input type="password" name="password" id="password" required> <br/>
        <label for="confirmpassword">ConfrimPassword*</label>
        <input type="password" name="confirmpassword" id="confirmpassword" required> <br/>
        <button class="button">Register</button>
    </form>
    <script src="assets/js/jquery.min.js"></script>
  <script>
      
      $("#header").load("header.html")  ;
     function  register()
      {
          event.preventDefault();
          alert("validation");
          const name=document.querySelector("#name").value;
          const email=document.querySelector("#email").value;
          const mobileNo=document.querySelector("#mobileNo").value;
          const password=document.querySelector("#password").value;
          const confirmpassword=document.querySelector("#confirmpassword").value;
          if(name=="" || name==null || name.trim()=="")
          {
            alert("Name cannot be null");
          }
          else if (password.length<8)
          {
                 alert("Password must be greater than 8 characters");
          }
          else if (password !=confirmpassword)
          {
                 alert("confirm Password must be equal to password");
          }
          else if(mobileNo.length != 10)
          {
                alert("MobileNumber is not valid");
          }
          else
          {
             const userobj={
              "name":name,
              "email":email,
              "mobileNo":mobileNo,
              "password":password,
              "confirmpassword":confirmpassword
             };
                 console.log(userobj);
                 const url="https://product-mock-api.herokuapp.com/medicalapp/api/v1/auth/register";
                 axios.post(url,userobj).then(res=>
                 {
                     let data=res.data;
                     console.log(data);
                     alert("successfully register");
                     window.location.href="login.html";
                 }) .catch(err=>
                 {
                     console.error("err");
                     alert("error");
                 });
                 
                 
          }
         
        
      }

  </script>
 
</body>
</html>