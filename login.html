<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
   
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body class="login">
        <header id="header">

        </header>
		<h3 class="head">Login form</h3>
		<form onsubmit="login()">
        <label for="email">Email*</label>
        <input type="email" name="email" id="email" required > <br/>
        <label for="password">Password*</label>
        <input type="password" name="password" id="password" required> <br/>
        <button class="button">Login</button>
        </form>
    <script src="assets/js/jquery.min.js"></script>
     <script>
      $("#header").load("header.html")  ;
      function  login()
      {
          event.preventDefault();
          const email=document.querySelector("#email").value;
          const password=document.querySelector("#password").value;
              if (password.length < 8)
              {
                  
                alert("password must be greater than 8 characters");
              }
              else
              { 
               const userobj={
        
              "email":email,
              "password":password
             };
                console.log(userobj);
                 const url="https://product-mock-api.herokuapp.com/medicalapp/api/v1/auth/login";
                 axios.post(url,userobj).then(res=>
                 {
                     let data=res.data;
                     console.log(data);
                     alert("successfully logged in");
                     window.location.href="index.html";
                 }) .catch(err=>
                 {
                     console.error("err");
                     alert("Incorrect Password");
                 });
                
                
              }

        
         
      }
  </script>
</body>
</html>